(this["webpackJsonpcashcow-frontend"]=this["webpackJsonpcashcow-frontend"]||[]).push([[31],{927:function(e,t,n){"use strict";n.r(t);var c,r,i,a,s,o,b,l,d,j,x,h,p,O,u,f,m,g,w,k,v,y,I,S,M,T,N,z,C=n(56),B=n(0),F=n(29),D=n(5),R=n(201),A=n(45),L=n(122),P=n(16),U=n(22),E=n(6),J=n.n(E),K=n(205),W=n(773),$=n(781),_=n(772),q=n(828),Q=n(77),Y=n(46),V=n(154),Z=n.n(V),G=n(123),H=n(40),X=n(126),ee=n(770),te=n(768),ne=n(8),ce=D.e.div(c||(c=Object(C.a)(["\n  display: flex;\n  padding: 16px 32px;\n  flex: 1;\n  flex-wrap: wrap;\n  align-items: inherit;\n\n  @media (max-width: 768px) {\n    justify-content: center;\n  }\n"]))),re=D.e.div(r||(r=Object(C.a)(["\n  max-width: 332px;\n  max-height: 100%;\n  min-width: 240px;\n  min-height: 240px;\n  width: 46%;\n  border-radius: 16px 16px 0 0;\n  overflow: hidden;\n  margin: 16px 32px 16px 0;\n  position: relative;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),ie=D.e.div(i||(i=Object(C.a)(["\n  width: 100%;\n  padding-bottom: 100%;\n  height: 0;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: auto 100%;\n"]))),ae=D.e.div(a||(a=Object(C.a)(["\n  flex: 1;\n  min-width: 220px;\n  margin: 16px 0;\n  display: flex;\n  flex-direction: column;\n"]))),se=D.e.div(s||(s=Object(C.a)(["\n  font-size: 28px;\n  font-weight: 600;\n  color: #431216;\n  word-break: break-word;\n"]))),oe=D.e.div(o||(o=Object(C.a)(["\n  margin-top: 20px;\n  box-shadow: 0 6px 12px 0 rgb(0 0 0 / 6%), 0 -1px 2px 0 rgb(0 0 0 / 2%);\n  border-radius: 16px;\n  display: flex;\n"]))),be=D.e.div(b||(b=Object(C.a)(["\n  padding: 16px;\n  flex: 1;\n"]))),le=D.e.div(l||(l=Object(C.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  color: #694f4e;\n"]))),de=D.e.div(d||(d=Object(C.a)(["\n  display: flex;\n  align-items: center;\n"]))),je=D.e.div(j||(j=Object(C.a)(["\n  font-size: 28px;\n  color: #431216;\n  font-weight: 700;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n"]))),xe=D.e.div(x||(x=Object(C.a)(["\n  margin-top: 24px;\n"]))),he=new Z.a(Z.a.givenProvider),pe=function(e){var t=e.itemId,n=Object(L.a)().isDark,c=Object(F.f)(),r=Object(Q.m)().account,i=Object(B.useState)(!1),a=Object(U.a)(i,2),s=a[0],o=a[1],b=Object(B.useState)(""),l=Object(U.a)(b,2),d=l[0],j=l[1],x=Object(B.useState)(""),h=Object(U.a)(x,2),p=h[0],O=h[1],u=Object(B.useState)(""),f=Object(U.a)(u,2),m=f[0],g=f[1],w=Object(B.useState)(0),k=Object(U.a)(w,2),v=k[0],y=k[1],I=Object(B.useState)(""),S=Object(U.a)(I,2),M=S[0],T=S[1],N=Object(B.useState)(!0),z=Object(U.a)(N,2),C=z[0],D=z[1],R=Object(B.useState)(!1),E=Object(U.a)(R,2),V=E[0],Z=E[1],pe=Object(B.useContext)(X.a).setLoading,Oe=Object(G.g)(),ue=Object(B.useMemo)((function(){return new he.eth.Contract(_.abi,Object(H.c)())}),[]),fe=Object(B.useMemo)((function(){return new he.eth.Contract($.abi,Object(H.f)())}),[]),me=Object(B.useMemo)((function(){return new he.eth.Contract(W.abi,Object(H.a)())}),[]),ge=new he.eth.Contract(q.abi,Object(H.h)()),we=Object(B.useCallback)(Object(P.a)(J.a.mark((function e(){var n,c,i,a,s,b,l,d;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.methods.fetchMarketItems().call({from:r});case 2:n=e.sent,c=!1,i=null,a=0;case 6:if(!(a<n.length)){e.next=16;break}if(n[a].itemId!==t){e.next=13;break}return c=n[a].nftContract===Object(H.a)(),i=n[a].tokenId,g(Object(Y.fromWei)(n[a].price,"ether")),n[a].seller===r&&Z(!0),e.abrupt("break",16);case 13:a++,e.next=6;break;case 16:if(i){e.next=18;break}return e.abrupt("return");case 18:if(s=null,!c){e.next=25;break}return e.next=22,me.methods.tokenURI(Object(Y.toBN)(i)).call({from:r});case 22:s=e.sent,e.next=28;break;case 25:return e.next=27,ue.methods.tokenURI(Object(Y.toBN)(i)).call({from:r});case 27:s=e.sent;case 28:return e.next=30,fetch(s);case 30:return b=e.sent,e.next=33,b.json();case 33:l=e.sent,d=l.image,c?j("https://ipfs.io/ipfs/QmQVga2UJapPr4USAEtThiqxg9CRnhtrB4wyf2oSx3ZaJT"):(d=d.slice(7),j("".concat(ee.b).concat(d))),o(c),O(l.name),T(l.description),y(Oe.toNumber());case 40:case"end":return e.stop()}}),e)}))),[r,fe,me,t,ue,Oe]);Object(B.useEffect)((function(){we()}),[we]);var ke=function(){var e=Object(P.a)(J.a.mark((function e(){var n,i,a,o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!1),pe(!0),e.prev=2,n=Object(Y.toWei)(Object(Y.toBN)("10000000000000000000000000000000000000000"),"ether"),e.next=6,ge.methods.allowance(r,Object(H.f)()).call();case 6:if(i=e.sent,!(parseInt(i.toString())<parseInt(m))){e.next=11;break}return e.next=10,ge.methods.approve(Object(H.f)(),n).send({from:r});case 10:K.b.success("Approved Milk token.");case 11:if(!s){e.next=16;break}return e.next=14,fe.methods.createMarketSale(Object(H.a)(),t).send({from:r});case 14:e.next=18;break;case 16:return e.next=18,fe.methods.createMarketSale(Object(H.c)(),t).send({from:r});case 18:c.push("/nft-market"),K.b.success("Successfully bought NFT."),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),a=e.t0,o=a.message,K.b.error(o);case 26:D(!0),pe(!1);case 28:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}();return Object(ne.jsxs)(ce,{children:[Object(ne.jsxs)(re,{children:[Object(ne.jsx)(ie,{style:{backgroundImage:"url(".concat(d,")")}}),Object(ne.jsx)("div",{style:{paddingTop:"10px",fontSize:"17px",color:n?"white":"rgb(105, 79, 78)"},children:M})]}),Object(ne.jsxs)(ae,{children:[Object(ne.jsx)(se,{style:{color:n?"white":""},children:p}),Object(ne.jsx)(oe,{style:{background:n?"#16151a":"",boxShadow:n?"0 6px 12px 0 rgb(255 255 255 / 6%), 0 -1px 2px 0 rgb(255 255 255 / 2%)":""},children:Object(ne.jsxs)(be,{children:[Object(ne.jsxs)(le,{style:{color:n?"white":""},children:["Sale Price",Object(ne.jsx)(de,{children:Object(ne.jsx)("div",{style:{color:"".concat("#F0B90B"),fontWeight:700},children:Object(ne.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",color:n?"white":""},children:[Object(ne.jsx)("img",{style:{width:"16px",height:"16px",marginRight:"5px",transform:"translateY(-.5px)"},alt:"Milk Token Icon",src:"/images/farms/milk.png"}),"Milk"]})})})]}),Object(ne.jsxs)(je,{style:{color:n?"white":""},children:[Object(ne.jsx)("img",{style:{width:"24px",height:"24px",marginRight:"8px"},src:"/images/farms/milk.png",alt:"Token Icon"}),Object(te.c)(m,0),Object(ne.jsxs)("span",{style:{fontSize:"14px",color:n?"white":"#694f4e",fontWeight:400,marginLeft:"4px"},children:["\u2248 $",Object(te.c)(Math.round(v*parseInt(m)*100)/100)]})]})]})}),Object(ne.jsx)("div",{style:{flex:1}}),Object(ne.jsx)(xe,{children:Object(ne.jsx)("div",{children:r&&C&&!V?Object(ne.jsx)(A.e,{style:{width:"100%"},onClick:ke,children:"Buy NFT"}):Object(ne.jsx)(A.e,{style:{width:"100%"},disabled:!0,children:V?"Your Listing NFT":"Buy NFT"})})})]})]})},Oe=D.e.div(h||(h=Object(C.a)(["\n  display: flex;\n  min-width: 280px;\n  max-width: 330px;\n  width: 30%;\n  padding: 32px;\n  box-sizing: border-box;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    max-width: unset;\n    width: 100%;\n  }\n"]))),ue=D.e.div(p||(p=Object(C.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  color: #431216;\n"]))),fe=D.e.div(O||(O=Object(C.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 15px 0;\n"]))),me=D.e.div(u||(u=Object(C.a)(["\n  padding: 18px 0 0;\n  font-size: 14px;\n"]))),ge=D.e.div(f||(f=Object(C.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),we=D.e.div(m||(m=Object(C.a)(["\n  color: #431216;\n  font-weight: 500;\n  max-width: 50%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),ke=new Z.a(Z.a.givenProvider),ve=function(e){var t=e.itemId,n=Object(L.a)().isDark,c=Object(Q.m)().account,r=Object(B.useState)(!1),i=Object(U.a)(r,2),a=i[0],s=i[1],o=Object(B.useState)(""),b=Object(U.a)(o,2),l=b[0],d=b[1],j=Object(B.useState)(""),x=Object(U.a)(j,2),h=x[0],p=x[1],O=Object(B.useState)(""),u=Object(U.a)(O,2),f=u[0],m=u[1],g=Object(B.useState)([]),w=Object(U.a)(g,2),k=w[0],v=w[1],y=Object(B.useMemo)((function(){return new ke.eth.Contract($.abi,Object(H.f)())}),[]),I=Object(B.useMemo)((function(){return new ke.eth.Contract(_.abi,Object(H.c)())}),[]),S=Object(B.useMemo)((function(){return new ke.eth.Contract(W.abi,Object(H.a)())}),[]),M=Object(B.useCallback)(Object(P.a)(J.a.mark((function e(){var n,r,i,a,o,b,l;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.fetchMarketItems().call({from:c});case 2:n=e.sent,r=0,i=!1,a=0;case 6:if(!(a<n.length)){e.next=16;break}if(n[a].itemId!==t){e.next=13;break}return i=n[a].nftContract===Object(H.a)(),d(n[a].tokenId.toString()),p(n[a].seller.toString()),r=a,e.abrupt("break",16);case 13:a++,e.next=6;break;case 16:if(o=null,!i){e.next=23;break}return e.next=20,S.methods.tokenURI(Object(Y.toBN)(n[r].tokenId)).call({from:c});case 20:o=e.sent,e.next=26;break;case 23:return e.next=25,I.methods.tokenURI(Object(Y.toBN)(n[r].tokenId)).call({from:c});case 25:o=e.sent;case 26:return e.next=28,fetch(o);case 28:return b=e.sent,e.next=31,b.json();case 31:l=e.sent,s(i),m(l.dna),v(l.attributes);case 35:case"end":return e.stop()}}),e)}))),[c,y,S,t,I]);return Object(B.useEffect)((function(){M()}),[t,M]),Object(ne.jsxs)(Oe,{children:[Object(ne.jsx)(ue,{style:{color:n?"white":""},children:"Properties"}),Object(ne.jsx)(fe,{children:Object(ne.jsxs)(me,{children:[Object(ne.jsxs)(ge,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Owner"}),Object(ne.jsx)(we,{children:Object(ne.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(h),style:{textDecoration:"underline",color:n?"white":"#431216"},children:h})})]}),Object(ne.jsxs)(ge,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Contract Address"}),Object(ne.jsx)(we,{children:Object(ne.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(a?Object(H.a)():Object(H.c)()),style:{textDecoration:"underline",color:n?"white":"#431216"},children:a?Object(H.a)():Object(H.c)()})})]}),Object(ne.jsxs)(ge,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Token ID"}),Object(ne.jsx)(we,{style:{color:n?"white":""},children:"#".concat(l)})]}),f&&Object(ne.jsxs)(ge,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"DNA"}),Object(ne.jsx)(we,{style:{color:n?"white":""},children:f})]}),k.map((function(e){return Object(ne.jsxs)(ge,{children:[Object(ne.jsx)("div",{style:{color:n?"white":"#694f4e"},children:e.trait_type}),Object(ne.jsx)(we,{style:{color:n?"white":""},children:e.value})]},e.trait_type)}))]})})]})},ye=D.e.div(g||(g=Object(C.a)(["\n    position: relative;\n    display: flex;\n    background: #fff;\n    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 3%), 0 4px 6px -2px rgb(0 0 0 / 1%);\n    border-radius: 32px;\n    position: relative;\n\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]))),Ie=D.e.div(w||(w=Object(C.a)(["\n    background: linear-gradient( 45deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100% );\n    background-size: 300% 300%;\n    animation: ilqnTz 2s linear infinite;\n    filter: blur(10px);\n    position: absolute;\n    top:-2px;\n    right:-2px;\n    bottom:-2px;\n    left:-2px;\n    z-index: -1;\n"]))),Se=D.e.div(k||(k=Object(C.a)(["\n    min-width: 2px;\n    position: relative;\n    background-image: url(https://jojo.fun/img/icon-ticket-line-vertical.be8361e4.svg);\n    background-repeat: repeat-y;\n    background-size: contain;\n    background-position: 50%;\n"]))),Me=function(e){var t=e.itemId,n=Object(L.a)().isDark;return Object(ne.jsxs)(ye,{style:{background:n?"#27262c":""},children:[Object(ne.jsx)(Ie,{}),Object(ne.jsx)(pe,{itemId:t}),Object(ne.jsx)(Se,{}),Object(ne.jsx)(ve,{itemId:t})]})},Te=D.e.div(v||(v=Object(C.a)(["\n    margin-top: 40px;\n"]))),Ne=D.e.div(y||(y=Object(C.a)(["\n    font-weight: 700;\n    color: #F0B90B;\n    font-size: 20px;\n    padding-bottom: 14px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid #f5f8fb;\n"]))),ze=D.e.div(I||(I=Object(C.a)(["\n    font-size: 15px;\n    color: #694f4e;\n    margin-top: 0;\n"]))),Ce=D.e.div(S||(S=Object(C.a)(["\n    margin: 12px 0;\n"]))),Be=function(){var e=Object(L.a)().isDark;return Object(ne.jsxs)(Te,{children:[Object(ne.jsx)(Ne,{style:{color:e?"white":""},children:"Market Rules"}),Object(ne.jsxs)(ze,{style:{color:e?"white":""},children:[Object(ne.jsx)(Ce,{children:"1. NFTs can be purchased in the NFT Market only by using $MILK;"}),Object(ne.jsx)(Ce,{children:"2. After NFT is listed in the trading market, operations such as transfer, auction and stake are not allowed."}),Object(ne.jsx)(Ce,{children:"3. The market will charge 10% of the seller his revenue as a service fee, which is used for burning $MILK, adding $MILK liquidity and for Treasury."})]})]})},Fe=n(76),De=D.e.div(M||(M=Object(C.a)(["\n  font-size: 15px;\n  color: #694f4e;\n"]))),Re=D.e.div(T||(T=Object(C.a)(["\n  display: inline;\n"]))),Ae=function(e){var t=e.collectionName,n=Object(L.a)().isDark;return Object(ne.jsxs)(De,{children:[Object(ne.jsxs)(Re,{children:[Object(ne.jsx)(Fe.b,{to:"/nft-market",style:{color:n?"white":"#431216"},children:"NFT Market"}),Object(ne.jsx)("span",{style:{padding:"0 8px",color:n?"white":""},children:">"})]}),Object(ne.jsx)(Re,{children:Object(ne.jsx)("span",{style:{fontSize:"15px",color:n?"white":"#694f4e"},children:t})})]})},Le=D.e.div(N||(N=Object(C.a)(["\n    border-bottom: 1px solid #e8e8e8;\n    margin-bottom: 20px;\n"]))),Pe=D.e.div(z||(z=Object(C.a)(["\n    margin-top: 32px;\n"])));t.default=function(){var e=Object(F.h)().itemId;Object(D.g)().isDark;return Object(ne.jsxs)(R.a,{style:{},children:[Object(ne.jsx)(Le,{children:Object(ne.jsx)(A.r,{as:"h1",size:"lg",color:"text",mb:"20px",children:"NFT MARKETPLACE"})}),Object(ne.jsx)(Ae,{collectionName:"NFT"}),Object(ne.jsx)(Pe,{children:Object(ne.jsx)(Me,{itemId:e})}),Object(ne.jsx)(Be,{})]})}}}]);
//# sourceMappingURL=31.7cff376b.chunk.js.map