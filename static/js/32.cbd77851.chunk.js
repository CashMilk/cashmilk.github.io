(this["webpackJsonpcashcow-frontend"]=this["webpackJsonpcashcow-frontend"]||[]).push([[32],{930:function(e,n,t){"use strict";t.r(n);var i,r,a,c,o,s,l,d,b,p,u,x,j,h,f,O,g,m,w,v,k,y,C,I,z,L,R=t(56),E=t(0),M=t(5),P=t(201),A=t(45),S=t(57),H=t(348),T=t(122),F=t(15),N=t(22),D=t(902),Q=t(912),Y=t(8),G=["options","onOptionChange","defaultOptionIndex"],W=function(e){var n=e.options,t=e.onOptionChange,l=e.defaultOptionIndex,d=void 0===l?0:l,b=Object(D.a)(e,G),p=Object(T.a)().isDark,u=M.e.div(i||(i=Object(R.a)(["\n    width: 100%;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0px 16px;\n    box-shadow: ",";\n    border: 1px solid #e8e8e8;\n    border-radius: 16px;\n    background: ",";\n    transition: border-radius 0.15s;\n  "])),(function(e){return e.theme.shadows.inset}),p?"rgb(39, 38, 44)":"white"),x=M.e.div(r||(r=Object(R.a)(["\n    min-width: 136px;\n    height: 0;\n    position: absolute;\n    overflow: hidden;\n    background: ",";\n    z-index: ",";\n    transition: transform 0.15s, opacity 0.15s;\n    transform: scaleY(0);\n    transform-origin: top;\n    opacity: 0;\n    width: 100%;\n\n    "," {\n      min-width: 168px;\n    }\n  "])),p?"rgb(39, 38, 44)":"white",(function(e){return e.theme.zIndices.dropdown}),(function(e){return e.theme.mediaQueries.sm})),j=Object(M.e)(Q.b)(a||(a=Object(R.a)(["\n    cursor: pointer;\n    width: 100%;\n    position: relative;\n    background: white;\n    border-radius: 16px;\n    height: 40px;\n    min-width: 136px;\n    user-select: none;\n    z-index: 20;\n\n    "," {\n      min-width: 168px;\n    }\n\n    ","\n\n    svg {\n      position: absolute;\n      right: 16px;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  "])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.isOpen&&Object(M.d)(c||(c=Object(R.a)(["\n        "," {\n          border-bottom: 1px solid #e8e8e8;\n          border-radius: 16px 16px 0 0;\n        }\n\n        "," {\n          height: auto;\n          transform: scaleY(1);\n          opacity: 1;\n          border: 1px solid #e8e8e8;\n          border-top-width: 0;\n          border-radius: 0 0 16px 16px;\n          box-shadow: #e8e8e8;\n        }\n      "])),u,x)})),h=M.e.ul(o||(o=Object(R.a)(["\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n    z-index: ",";\n  "])),(function(e){return e.theme.zIndices.dropdown})),f=M.e.li(s||(s=Object(R.a)(["\n    list-style: none;\n    padding: 8px 16px;\n    &:hover {\n      background: ",";\n    }\n  "])),p?"#4e4e4e":"#e8e8e8"),O=Object(E.useRef)(null),g=Object(E.useState)(!1),m=Object(N.a)(g,2),w=m[0],v=m[1],k=Object(E.useState)(d),y=Object(N.a)(k,2),C=y[0],I=y[1],z=function(e){v(!w),e.stopPropagation()};return Object(E.useEffect)((function(){var e=function(){v(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),Object(Y.jsxs)(j,Object(F.a)(Object(F.a)({isOpen:w},b),{},{children:[Object(Y.jsx)(u,{onClick:z,children:Object(Y.jsx)(Q.c,{children:n[C].label})}),Object(Y.jsx)(Q.a,{color:"text",onClick:z}),Object(Y.jsx)(x,{children:Object(Y.jsx)(h,{ref:O,children:n.map((function(e,i){return i!==C?Object(Y.jsx)(f,{onClick:(r=i,function(){I(r),v(!1),t&&t(n[r])}),children:Object(Y.jsx)(Q.c,{children:e.label})},e.label):null;var r}))})})]}))},B=M.e.div(l||(l=Object(R.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n"]))),J=(M.e.div(d||(d=Object(R.a)(["\n  flex: left;\n  align-items: center;\n"]))),M.e.div(b||(b=Object(R.a)(["\n  display: flex;\n  flex: right;\n  align-items: center;\n\n  @media (max-width: 768px) {\n    margin-top: 10px;\n    flex-wrap: wrap;\n\n    > div {\n      width: 40%;\n      margin-top: 10px;\n    }\n  }\n"])))),K=(M.e.div(p||(p=Object(R.a)(["\n  display: flex;\n  position: relative;\n"]))),M.e.input(u||(u=Object(R.a)(["\n  border: 1px solid #e8e8e8;\n  border-radius: 12px;\n  height: 44px;\n  line-height: 44px;\n  box-sizing: border-box;\n  font-size: 16px;\n  padding: 0 68px 0 16px;\n  display: flex;\n  outline: none;\n  width: 230px;\n  color: #431216;\n  background: transparent;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),M.e.a(x||(x=Object(R.a)(["\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  bottom: 4px;\n  height: auto;\n  padding: 0 20px;\n  transform: translateY(0) !important;\n  border: 0 none;\n  background: #00d86c;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n"]))),[{label:"Recent",value:{field:"RecentlyListed",direction:"desc"}},{label:"Lowest",value:{field:"LowestPrice",direction:"asc"}},{label:"Highest",value:{field:"HighestPrice",direction:"desc"}}]),U=[{label:"All",value:{field:"All",direction:"asc"}},{label:"Happy Cows",value:{field:"HappyCows",direction:"desc"}},{label:"Genesis Lands",value:{field:"AirNFT",direction:"asc"}}],Z=function(){var e=Object(S.b)(),n=Object(T.a)().isDark;return Object(Y.jsx)(B,{children:Object(Y.jsxs)(J,{children:[Object(Y.jsx)(W,{options:K,onOptionChange:function(n){return e(Object(H.c)(n.value))},style:{marginRight:"15px",background:n?"#27262c":""}}),Object(Y.jsx)(W,{options:U,onOptionChange:function(n){return e(Object(H.b)(n.value))},style:{marginRight:"15px"}})]})})},q=t(16),X=t(6),$=t.n(X),V=t(782),_=t(77),ee=t(154),ne=t.n(ee),te=t(40),ie=t(33),re=t(76),ae=t(46),ce=t(774),oe=t(773),se=t(123),le=t(771),de=t(769),be=M.e.div(j||(j=Object(R.a)(["\n  cursor: pointer;\n  min-width: 230px;\n  max-width: calc(25% - 30px);\n  flex: 1;\n  margin: 30px 15px 0;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 3%), 0 4px 6px -2px rgb(0 0 0 / 1%);\n  position: relative;\n"]))),pe=M.e.div(h||(h=Object(R.a)(["\n  paddingtop: 2px;\n"]))),ue=M.e.div(f||(f=Object(R.a)(["\n  position: relative;\n  padding-bottom: 100%;\n  height: 0;\n  border-top-right-radius: 16px;\n  border-top-left-radius: 16px;\n  overflow: hidden;\n"]))),xe=M.e.div(O||(O=Object(R.a)(["\n  transition: transform 0.3s ease, -webkit-transform 0.3s ease;\n  transform-origin: center;\n  background-size: auto 100%;\n  background-position: 50%;\n  background-repeat: no-repeat;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  &:hover {\n    transform: scale(1.04);\n  }\n"]))),je=M.e.div(g||(g=Object(R.a)(["\n  height: 68px;\n  padding: 0 24px;\n  display: flex;\n  align-items: center;\n"]))),he=M.e.div(m||(m=Object(R.a)(["\n  font-size: 18px;\n  line-height: 1.2;\n  color: #431216;\n  word-break: break-word;\n  font-weight: 700;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-clamp: 2;\n  display: flex;\n  align-items: center;\n"]))),fe=M.e.div(w||(w=Object(R.a)(["\n  height: 1px;\n  min-width: unset;\n  background-image: url(../images/line.jpg);\n  background-repeat: repeat-x;\n  position: relative;\n  background-size: contain;\n  background-position: 50%;\n"]))),Oe=M.e.div(v||(v=Object(R.a)(["\n  padding: 12px 24px 20px;\n  margin: 0;\n"]))),ge=M.e.div(k||(k=Object(R.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  color: #694f4e;\n"]))),me=M.e.div(y||(y=Object(R.a)(["\n  align-items: center;\n  color: #431216;\n  margin-top: 5px;\n  display: flex;\n  justify-content: space-between;\n"]))),we=M.e.div(C||(C=Object(R.a)(["\n  font-size: 22px;\n  font-weight: 700;\n"]))),ve=M.e.div(I||(I=Object(R.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n"]))),ke=new ne.a(ne.a.givenProvider),ye=function(e){var n=e.nftEachItem,t=Object(_.m)().account,i=Object(T.a)().isDark,r=Object(E.useState)(!1),a=Object(N.a)(r,2),c=a[0],o=a[1],s=Object(E.useState)(""),l=Object(N.a)(s,2),d=l[0],b=l[1],p=Object(E.useState)(""),u=Object(N.a)(p,2),x=u[0],j=u[1],h=Object(E.useState)(0),f=Object(N.a)(h,2),O=f[0],g=f[1],m=Object(se.g)(),w=Object(E.useMemo)((function(){return new ke.eth.Contract(oe.abi,Object(te.c)())}),[]),v=Object(E.useMemo)((function(){return new ke.eth.Contract(ce.abi,Object(te.a)())}),[]),k=Object(E.useCallback)(Object(q.a)($.a.mark((function e(){var i,r,a,c,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,!(r=n.nftContract===Object(te.a)())){e.next=8;break}return e.next=5,v.methods.tokenURI(n.tokenId).call({from:t});case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,w.methods.tokenURI(n.tokenId).call({from:t});case 10:i=e.sent;case 11:return n.seller===t&&o(!0),e.next=14,fetch(i);case 14:return a=e.sent,e.next=17,a.json();case 17:c=e.sent,s=c.image,r?j("https://ipfs.io/ipfs/QmenL2FwtXn8vpbNWjQBkH4Fbb34E4w4GyMa6piRGgngh2"):(s=s.slice(7),j("".concat(le.b).concat(s))),b(c.name),g(m.toNumber());case 22:case"end":return e.stop()}}),e)}))),[t,w,v,n,m]);return Object(E.useEffect)((function(){k()}),[k]),Object(Y.jsx)(re.b,{to:"/nft-market/".concat(n.itemId),children:Object(Y.jsxs)(be,{style:{background:i?"#27262c":""},children:[Object(Y.jsxs)(pe,{children:[Object(Y.jsx)(ue,{children:Object(Y.jsx)(xe,{style:{backgroundImage:"url(".concat(x,")")}})}),Object(Y.jsx)(je,{children:Object(Y.jsxs)(he,{style:{color:i?"white":""},children:["".concat(d),c?Object(Y.jsx)("svg",{width:"20",height:"20",style:{marginLeft:"15px"},viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Y.jsx)("path",{d:"M7 0C3.12667 0 0 3.12667 0 7C0 10.8733 3.12667 14 7 14C10.8733 14 14 10.8733 14 7C14 3.12667 10.8733 0 7 0ZM7 12.4444C5.42889 12.4444 3.99778 11.7756 3.01778 10.7022C3.04889 9.25556 3.84222 8.01111 5.02444 7.32667C5.11778 7.26444 5.22667 7.21778 5.33556 7.17111C4.51111 6.62667 3.95111 5.67778 3.95111 4.62C3.95111 2.98667 5.24222 1.64889 6.86 1.55556C6.87556 1.55556 6.89111 1.55556 6.89111 1.55556C6.93778 1.55556 6.96889 1.55556 7.01556 1.55556C7.03111 1.55556 7.06222 1.55556 7.07778 1.55556C7.17111 1.55556 7.26444 1.55556 7.37333 1.57111C8.69556 1.72667 9.8 2.75333 10.0333 4.06C10.2511 5.35111 9.67556 6.53333 8.69556 7.17111C8.80445 7.21778 8.91333 7.26444 9.00667 7.32667C10.1733 7.99556 10.9822 9.25556 11.0133 10.7022C10.0022 11.7756 8.57111 12.4444 7 12.4444Z",fill:i?"white":"#431216"})}):""]})})]}),Object(Y.jsx)(fe,{}),Object(Y.jsxs)(Oe,{children:[Object(Y.jsxs)(ge,{style:{color:i?"white":""},children:["Sale Price",Object(Y.jsxs)("span",{children:[" ","\u2248 $ ",Object(de.c)(Math.floor(O*parseInt(Object(ae.fromWei)(n.price,"ether"))*100)/100)]})]}),Object(Y.jsxs)(me,{children:[Object(Y.jsx)(we,{style:{color:i?"white":""},children:Object(de.c)(Object(ae.fromWei)(n.price,"ether"),0)}),Object(Y.jsxs)(ve,{style:{color:i?"white":""},children:[Object(Y.jsx)("img",{src:"/images/farms/milk.png",alt:"token",style:{width:"18px",height:"18px",marginRight:"4px"}}),"MILK"]})]})]})]})})},Ce=M.e.div(z||(z=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 -15px;\n"]))),Ie=new ne.a(ne.a.givenProvider),ze=function(){var e=Object(_.m)().account,n=Object(E.useState)([]),t=Object(N.a)(n,2),i=t[0],r=t[1],a=Object(S.c)((function(e){return e.markets.sortOrder})),c=Object(S.c)((function(e){return e.markets.collectionType})),o=Object(E.useMemo)((function(){return new Ie.eth.Contract(V.abi,Object(te.f)())}),[]),s=Object(E.useCallback)(Object(q.a)($.a.mark((function n(){var t,i,s,l,d,b,p,u,x,j,h,f,O,g,m,w;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.methods.fetchMarketItems().call({from:e});case 2:for(t=n.sent,i=[],s=0;s<t.length;s++)i.push(t[s]);l=[],d=0,n.t0=c.field,n.next="All"===n.t0?10:"HappyCows"===n.t0?12:"AirNFT"===n.t0?14:16;break;case 10:return l=i,n.abrupt("break",17);case 12:for(b=0;b<i.length;b++)i[b].nftContract===ie.a.happycow[56]&&(l[d]=i[b],d++);return n.abrupt("break",17);case 14:for(p=0;p<i.length;p++)i[p].nftContract===ie.a.airnft[56]&&(l[d]=i[p],d++);return n.abrupt("break",17);case 16:return n.abrupt("break",17);case 17:n.t1=a.field,n.next="RecentlyListed"===n.t1?20:"LowestPrice"===n.t1?22:"HighestPrice"===n.t1?24:26;break;case 20:for(u=0;u<l.length-1;u++)for(x=u+1;x<l.length;x++)parseInt(l[u].listedTime)<parseInt(l[x].listedTime)&&(j=l[u],l[u]=l[x],l[x]=j);return n.abrupt("break",27);case 22:for(h=0;h<l.length-1;h++)for(f=h+1;f<l.length;f++)parseInt(l[h].price)>parseInt(l[f].price)&&(O=l[h],l[h]=l[f],l[f]=O);return n.abrupt("break",27);case 24:for(g=0;g<l.length-1;g++)for(m=g+1;m<l.length;m++)parseInt(l[g].price)<parseInt(l[m].price)&&(w=l[g],l[g]=l[m],l[m]=w);return n.abrupt("break",27);case 26:return n.abrupt("break",27);case 27:r(l);case 28:case"end":return n.stop()}}),n)}))),[e,o,c,a]);return Object(E.useEffect)((function(){s()}),[s]),Object(Y.jsx)(Ce,{children:i.map((function(e){return Object(Y.jsx)(ye,{nftEachItem:e},e.itemId)}))})},Le=M.e.div(L||(L=Object(R.a)(["\n  border-bottom: 1px solid #e8e8e8;\n  margin-bottom: 20px;\n"])));n.default=function(){Object(M.g)().isDark;return Object(Y.jsxs)(P.a,{style:{},children:[Object(Y.jsx)(Le,{children:Object(Y.jsx)(A.q,{as:"h1",size:"lg",color:"text",mb:"20px",style:{textAlign:"center"},children:"NFT MARKETPLACE"})}),Object(Y.jsx)(Z,{}),Object(Y.jsx)(ze,{})]})}}}]);
//# sourceMappingURL=32.cbd77851.chunk.js.map