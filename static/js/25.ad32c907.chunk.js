(this["webpackJsonpcashcow-frontend"]=this["webpackJsonpcashcow-frontend"]||[]).push([[25],{777:function(e,t,n){"use strict";t.a=["275773","275774","275775","275776","275777","275778","275779","275780","275781","275782","275783","275784","275785","275786","275787","275788","275789","275790","275791","275792","275793","275794","275795","275796","275797","275798","275799","275800","275801","275802","275803","275747","275748","275749","275750","275751","275752","275753","275754","275755","275756","275762","275763","275772","275765","275766","275767","275768","275769","275770","275771","275804","275805","275806","275807","275808","275809","275810","275811","275812","275813","275814","275815","275816","275817","275818","275819","275820","275821","275822","275823","275824","275825","275826","275828","275830","275832","275833","275834","275835","275836","275837","275838","275839","275840","275841","275842","275843","275844","275845","275846","275847","275848","275849","275850","275851","275852","275853","275854","275855"]},931:function(e,t,n){"use strict";n.r(t);var c,r,i,a,s,o,l,b,d,j,x,p,h,u,O,f,m,g,k,w,v,y,I,N,R,T,A=n(16),C=n(22),S=n(56),z=n(6),M=n.n(z),F=n(776),L=n.n(F),D=n(0),B=n(77),U=n(774),P=n(773),W=n(782),E=n(154),H=n.n(E),q=n(29),_=n(5),G=n(201),J=n(45),K=n(40),Q=n(777),Y=n(122),V=n(205),X=n(46),$=n(812),Z=n.n($),ee=n(123),te=n(126),ne=n(771),ce=n(769),re=n(8),ie=_.e.div(c||(c=Object(S.a)(["\n  display: flex;\n  padding: 16px 32px;\n  flex: 1;\n  flex-wrap: wrap;\n  align-items: inherit;\n  justify-content: center;\n"]))),ae=_.e.div(r||(r=Object(S.a)(["\n  max-width: 332px;\n  max-height: 100%;\n  min-width: 240px;\n  min-height: 240px;\n  width: 46%;\n  border-radius: 16px;\n  overflow: hidden;\n  margin: 16px 32px 16px 0;\n  position: relative;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]))),se=_.e.div(i||(i=Object(S.a)(["\n  width: 100%;\n  padding-bottom: 100%;\n  height: 0;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  background-size: auto 100%;\n"]))),oe=_.e.div(a||(a=Object(S.a)(["\n  flex: 1;\n  min-width: 220px;\n  margin: 16px 0;\n  display: flex;\n  flex-direction: column;\n"]))),le=_.e.div(s||(s=Object(S.a)(["\n  font-size: 28px;\n  font-weight: 600;\n  color: #431216;\n  word-break: break-word;\n"]))),be=_.e.div(o||(o=Object(S.a)(["\n  margin-top: 20px;\n  box-shadow: 0 6px 12px 0 rgb(0 0 0 / 6%), 0 -1px 2px 0 rgb(0 0 0 / 2%);\n  border-radius: 16px;\n  display: flex;\n  height: 100%;\n"]))),de=_.e.div(l||(l=Object(S.a)(["\n  padding: 16px;\n  flex: 1;\n"]))),je=_.e.div(b||(b=Object(S.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  color: #694f4e;\n"]))),xe=_.e.div(d||(d=Object(S.a)(["\n  display: flex;\n  align-items: center;\n"]))),pe=_.e.div(j||(j=Object(S.a)(["\n  font-size: 28px;\n  color: #431216;\n  font-weight: 700;\n  margin-top: 6px;\n  display: flex;\n  align-items: center;\n"]))),he=_.e.div(x||(x=Object(S.a)(["\n  margin-top: 24px;\n"]))),ue=_.e.div(p||(p=Object(S.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  column-gap: 8px;\n"]))),Oe=_.e.input(h||(h=Object(S.a)(["\n  border: 1px solid #e8e8e8;\n  border-radius: 12px;\n  height: 44px;\n  line-height: 44px;\n  box-sizing: border-box;\n  font-size: 16px;\n  padding: 0 68px 0 16px;\n  display: flex;\n  outline: none;\n  color: #431216;\n  background: transparent;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  margin-right: 15px;\n  -moz-appearance: textfield;\n\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]))),fe=new H.a(H.a.givenProvider),me=new fe.eth.Contract(P.abi,Object(K.c)()),ge=new fe.eth.Contract(W.abi,Object(K.f)()),ke=new fe.eth.Contract(U.abi,Object(K.a)()),we=function(e){var t=e.myToken,n=Object(Y.a)().isDark,c=Object(B.m)().account,r=Object(D.useState)(""),i=Object(C.a)(r,2),a=i[0],s=i[1],o=Object(D.useState)(""),l=Object(C.a)(o,2),b=l[0],d=l[1],j=Object(D.useState)(""),x=Object(C.a)(j,2),p=x[0],h=x[1],u=Object(D.useState)("0"),O=Object(C.a)(u,2),f=O[0],m=O[1],g=Object(D.useState)(""),k=Object(C.a)(g,2),w=k[0],v=k[1],y=Object(D.useState)(""),I=Object(C.a)(y,2),N=I[0],R=I[1],T=Object(D.useState)(!1),S=Object(C.a)(T,2),z=S[0],F=S[1],L=Object(D.useState)(!1),U=Object(C.a)(L,2),P=U[0],W=U[1],E=Object(D.useState)(!0),H=Object(C.a)(E,2),q=H[0],_=H[1],G=Object(D.useContext)(te.a).setLoading,Q=Object(ee.g)(),$=Object(D.useCallback)(Object(A.a)(M.a.mark((function e(){var n,r,i,a,o,l,b;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.methods.fetchMarketItems().call({from:c});case 2:if(n=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:r=0;case 6:if(!(r<n.length)){e.next=14;break}if(n[r].itemId!==t.itemId){e.next=11;break}return d(Object(X.fromWei)(n[r].price,"ether")),F(!0),e.abrupt("break",14);case 11:r++,e.next=6;break;case 14:if(m(t.itemId),i=t.tokenId){e.next=18;break}return e.abrupt("return");case 18:if(a=null,t.isAIR){e.next=25;break}return e.next=22,me.methods.tokenURI(Object(X.toBN)(i)).call({from:c});case 22:a=e.sent,e.next=28;break;case 25:return e.next=27,ke.methods.tokenURI(Object(X.toBN)(i)).call({from:c});case 27:a=e.sent;case 28:return e.next=30,fetch(a);case 30:return o=e.sent,e.next=33,o.json();case 33:l=e.sent,h(l.name),v(l.description),b=l.image,t.isAIR?s("https://ipfs.io/ipfs/QmenL2FwtXn8vpbNWjQBkH4Fbb34E4w4GyMa6piRGgngh2"):(b=b.slice(7),s("".concat(ne.b).concat(b)));case 38:case"end":return e.stop()}}),e)}))),[c,t]);Object(D.useEffect)((function(){$()}),[$]);var fe=function(){var e=Object(A.a)(M.a.mark((function e(){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(_(!1),G(!0),ve(),!t.isAIR){e.next=15;break}return e.next=8,ke.methods.getApproved(Object(X.toBN)(t.tokenId)).call();case 8:if(e.sent===Object(K.f)()){e.next=13;break}return e.next=12,ke.methods.approve(Object(K.f)(),Object(X.toBN)(t.tokenId)).send({from:c});case 12:V.b.success("Approved AirtNFT token.");case 13:e.next=22;break;case 15:return e.next=17,me.methods.isApprovedForAll(c,Object(K.f)()).call();case 17:if(e.sent){e.next=22;break}return e.next=21,me.methods.setApprovalForAll(Object(K.f)(),!0).send({from:c});case 21:V.b.success("Approved Milk token.");case 22:return e.prev=22,e.next=25,ge.methods.createMarketItem(t.isAIR?Object(K.a)():Object(K.c)(),Object(X.toBN)(t.tokenId),Object(X.toWei)(N,"ether")).send({from:c}).on("transactionHash",(function(){V.b.success("Transaction submitted.")})).on("receipt",(function(e){var t=e.events.MarketItemCreated.returnValues.itemId;m(t),d(N),F(!0),V.b.success("Successfully listed NFT.")}));case 25:e.next=32;break;case 27:e.prev=27,e.t0=e.catch(22),console.log(e.t0),n=e.t0,r=n.message,V.b.error(r);case 32:_(!0),G(!1);case 34:case"end":return e.stop()}}),e,null,[[22,27]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(A.a)(M.a.mark((function e(){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),G(!0),e.prev=2,e.next=5,ge.methods.unlistMarketItem(t.isAIR?Object(K.a)():Object(K.c)(),f).send({from:c}).on("transactionHash",(function(){V.b.success("Transaction submitted.")})).on("receipt",(function(){F(!1),V.b.success("Successfully unlisted NFT.")}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),n=e.t0,r=n.message,V.b.error(r);case 11:_(!0),G(!1);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){W(!1)};return Object(re.jsxs)(ie,{children:[Object(re.jsxs)(ae,{children:[Object(re.jsx)(se,{style:{backgroundImage:"url(".concat(a,")")}}),Object(re.jsx)("div",{style:{paddingTop:"10px",fontSize:"17px",color:n?"white":"rgb(105, 79, 78)"},children:w})]}),Object(re.jsxs)(oe,{children:[Object(re.jsx)(le,{style:{color:n?"white":""},children:p}),Object(re.jsx)(be,{style:{background:n?"#16151a":"",boxShadow:n?"0 6px 12px 0 rgb(255 255 255 / 6%), 0 -1px 2px 0 rgb(255 255 255 / 2%)":""},children:z?Object(re.jsxs)(de,{children:[Object(re.jsxs)(je,{style:{color:n?"white":""},children:["Sale Price",Object(re.jsx)(xe,{children:Object(re.jsx)("div",{style:{color:n?"white":"#00d86c",fontWeight:700},children:Object(re.jsxs)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[Object(re.jsx)("img",{style:{width:"16px",height:"16px",marginRight:"5px",transform:"translateY(-.5px)"},alt:"Milk Token Icon",src:"/images/farms/milk.png"}),"Milk"]})})})]}),Object(re.jsxs)(pe,{style:{color:n?"white":""},children:[Object(re.jsx)("img",{style:{width:"24px",height:"24px",marginRight:"8px"},src:"/images/farms/milk.png",alt:"Token Icon"}),Object(ce.c)(b,0),Object(re.jsxs)("span",{style:{fontSize:"14px",color:n?"white":"#694f4e",fontWeight:400,marginLeft:"4px"},children:["\u2248 $",Object(ce.c)(Math.round(Q.toNumber()*parseInt(b)*100)/100)]})]})]}):Object(re.jsx)("div",{style:{fontSize:"17px",margin:"auto",padding:"22px",color:n?"white":"rgb(105, 79, 78)"},children:"Not Listed Yet."})}),Object(re.jsx)(he,{children:Object(re.jsx)("div",{children:c&&q?Object(re.jsx)(J.d,{style:{width:"100%"},onClick:z?we:function(){W(!0)},children:z?"Unlist NFT":"List NFT"}):Object(re.jsx)(J.d,{style:{width:"100%"},disabled:!0,children:z?"Unlist NFT":"List NFT"})})})]}),Object(re.jsxs)(Z.a,{isOpen:P,onAfterOpen:function(){},onRequestClose:ve,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"500px",minWidth:"400px",borderRadius:"15px"}},contentLabel:"Example Modal",children:[Object(re.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(re.jsx)(J.q,{as:"h1",size:"no",color:"primary",mb:"20px",children:"List NFT"}),Object(re.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return ve()},onKeyDown:ve,role:"button",tabIndex:0,children:Object(re.jsx)("img",{src:"/images/close.png",style:{width:"25px",height:"25px"},alt:"close"})})]}),Object(re.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(re.jsxs)("div",{style:{display:"flex",width:"70%"},children:[Object(re.jsx)(Oe,{type:"number",maxLength:18,placeholder:"Price of NFT",value:N,onChange:function(e){var t=e.target,n=t.value,c=t.maxLength,r=n.slice(0,c);R(r)}}),Object(re.jsxs)(ue,{children:[Object(re.jsx)("img",{src:"/images/farms/milk.png",alt:"token",style:{width:"26px",height:"26px",marginRight:"4px"}}),"MILK"]})]}),Object(re.jsx)(J.d,{onClick:fe,children:"List NFT"})]})]})]})},ve=_.e.div(u||(u=Object(S.a)(["\n  display: flex;\n  min-width: 280px;\n  max-width: 330px;\n  width: 30%;\n  padding: 32px;\n  box-sizing: border-box;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    max-width: unset;\n  }\n"]))),ye=_.e.div(O||(O=Object(S.a)(["\n  font-size: 20px;\n  font-weight: 700;\n  color: #431216;\n"]))),Ie=_.e.div(f||(f=Object(S.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 0;\n"]))),Ne=_.e.div(m||(m=Object(S.a)(["\n  padding: 18px 0 0;\n  font-size: 14px;\n"]))),Re=_.e.div(g||(g=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),Te=_.e.div(k||(k=Object(S.a)(["\n  color: #431216;\n  font-weight: 500;\n  max-width: 50%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),Ae=new H.a(H.a.givenProvider),Ce=function(e){var t=e.myToken,n=Object(Y.a)().isDark,c=Object(B.m)().account,r=Object(D.useState)(""),i=Object(C.a)(r,2),a=i[0],s=i[1],o=Object(D.useState)(""),l=Object(C.a)(o,2),b=l[0],d=l[1],j=Object(D.useState)([]),x=Object(C.a)(j,2),p=x[0],h=x[1],u=Object(D.useMemo)((function(){return new Ae.eth.Contract(P.abi,Object(K.c)())}),[]),O=Object(D.useMemo)((function(){return new Ae.eth.Contract(U.abi,Object(K.a)())}),[]),f=Object(D.useCallback)(Object(A.a)(M.a.mark((function e(){var n,r,i,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.tokenId){e.next=5;break}return e.abrupt("return");case 5:if(r=null,t.isAIR){e.next=12;break}return e.next=9,u.methods.tokenURI(Object(X.toBN)(n)).call({from:c});case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,O.methods.tokenURI(Object(X.toBN)(n)).call({from:c});case 14:r=e.sent;case 15:return e.next=17,fetch(r);case 17:return i=e.sent,e.next=20,i.json();case 20:a=e.sent,d(a.dna),h(a.attributes),s(t.tokenId);case 24:case"end":return e.stop()}}),e)}))),[t,c,u,O]);return Object(D.useEffect)((function(){f()}),[t,f]),Object(re.jsxs)(ve,{children:[Object(re.jsx)(ye,{style:{color:n?"white":""},children:"On-chain data"}),Object(re.jsx)(Ie,{children:Object(re.jsxs)(Ne,{children:[Object(re.jsxs)(Re,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Owner"}),Object(re.jsx)(Te,{children:Object(re.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(c),style:{textDecoration:"underline",color:n?"white":"#431216"},children:c})})]}),Object(re.jsxs)(Re,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Contract Address"}),Object(re.jsx)(Te,{children:Object(re.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://bscscan.com/address/".concat(t.isAIR?Object(K.a)():Object(K.c)()),style:{textDecoration:"underline",color:n?"white":"#431216"},children:t.isAIR?Object(K.a)():Object(K.c)()})})]}),Object(re.jsxs)(Re,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"Token ID"}),Object(re.jsx)(Te,{style:{color:n?"white":""},children:"# ".concat(a)})]}),b&&Object(re.jsxs)(Re,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:"DNA"}),Object(re.jsx)(Te,{style:{color:n?"white":""},children:b})]}),p.map((function(e){return Object(re.jsxs)(Re,{children:[Object(re.jsx)("div",{style:{color:n?"white":"#694f4e"},children:e.trait_type}),Object(re.jsx)(Te,{style:{color:n?"white":""},children:e.value})]},e.trait_type)}))]})})]})},Se=_.e.div(w||(w=Object(S.a)(["\n    position: relative;\n    display: flex;\n    background: #fff;\n    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 3%), 0 4px 6px -2px rgb(0 0 0 / 1%);\n    border-radius: 32px;\n\n    @media (max-width: 768px) {\n        flex-direction: column;\n    }\n"]))),ze=_.e.div(v||(v=Object(S.a)(["\n    min-width: 2px;\n    position: relative;\n    background-image: url(../images/line.jpg);\n    background-repeat: repeat-y;\n    background-size: contain;\n    background-position: 50%;\n"]))),Me=_.e.div(y||(y=Object(S.a)(["\n    background: linear-gradient( 45deg, rgba(255,0,0,1) 0%, rgba(255,154,0,1) 10%, rgba(208,222,33,1) 20%, rgba(79,220,74,1) 30%, rgba(63,218,216,1) 40%, rgba(47,201,226,1) 50%, rgba(28,127,238,1) 60%, rgba(95,21,242,1) 70%, rgba(186,12,248,1) 80%, rgba(251,7,217,1) 90%, rgba(255,0,0,1) 100% );\n    background-size: 300% 300%;\n    animation: ilqnTz 2s linear infinite;\n    filter: blur(10px);\n    position: absolute;\n    top:-2px;\n    right:-2px;\n    bottom:-2px;\n    left:-2px;\n    z-index: -1;\n"]))),Fe=function(e){var t=e.myToken,n=Object(Y.a)().isDark;return Object(re.jsxs)(Se,{style:{background:n?"#27262c":""},children:[Object(re.jsx)(Me,{}),Object(re.jsx)(we,{myToken:t}),Object(re.jsx)(ze,{}),Object(re.jsx)(Ce,{myToken:t})]})},Le=n(76),De=_.e.div(I||(I=Object(S.a)(["\n    font-size: 15px;\n    color: #694f4e;\n"]))),Be=_.e.div(N||(N=Object(S.a)(["\n    display: inline;\n"]))),Ue=function(e){var t=e.collectionName,n=Object(Y.a)().isDark;return Object(re.jsxs)(De,{children:[Object(re.jsxs)(Be,{children:[Object(re.jsx)(Le.b,{to:"/myNFTs",style:{color:n?"white":"#431216"},children:"My NFTs"}),Object(re.jsx)("span",{style:{padding:"0 8px",color:n?"white":""},children:">"})]}),Object(re.jsx)(Be,{children:Object(re.jsx)("span",{style:{fontSize:"15px",color:n?"white":"#694f4e"},children:t})})]})},Pe=_.e.div(R||(R=Object(S.a)(["\n  border-bottom: 1px solid #e8e8e8;\n  margin-bottom: 20px;\n"]))),We=_.e.div(T||(T=Object(S.a)(["\n  margin-top: 32px;\n"]))),Ee=new H.a(H.a.givenProvider);t.default=function(){var e=Object(q.h)().myTokenId,t=Object(B.m)().account,n=Object(D.useState)({}),c=Object(C.a)(n,2),r=c[0],i=c[1],a=Object(D.useState)(!1),s=Object(C.a)(a,2),o=s[0],l=s[1],b=Object(D.useMemo)((function(){return new Ee.eth.Contract(P.abi,Object(K.c)())}),[]),d=Object(D.useMemo)((function(){return new Ee.eth.Contract(W.abi,Object(K.f)())}),[]),j=Object(D.useMemo)((function(){return new Ee.eth.Contract(U.abi,Object(K.a)())}),[]),x=Object(D.useCallback)(Object(A.a)(M.a.mark((function n(){var c,r,a,s,o,x,p,h,u,O,f,m,g,k;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=[],n.next=3,b.methods.fetchMyNfts().call({from:t});case 3:return r=n.sent,a=[],L.a.map(r,(function(e){a.push({tokenId:e,isAIR:!1})})),s=[],L.a.map(Q.a,(function(e){s.push(j.methods.ownerOf(e).call())})),n.next=10,Promise.all(s);case 10:return o=n.sent,L.a.map(o,(function(e,n){e===t&&a.push({tokenId:Q.a[n],isAIR:!0})})),n.next=14,d.methods.fetchItemsCreated().call({from:t});case 14:for(x=n.sent,p=a.length,h=0;h<p;h++)c[h]||(c[h]={}),c[h].itemId="0";for(u=0,O=0;O<x.length;O++)!1===x[O].isSold&&(a.push({tokenId:x[O].tokenId,isAIR:x[O].nftContract===Object(K.a)()}),c[u+p]||(c[u+p]={}),c[u+p].itemId=x[O].itemId,u++);for(f=[],m=0;m<a.length;m++)a[m].isAIR?f.push(j.methods.tokenURI(a[m].tokenId).call()):f.push(b.methods.tokenURI(a[m].tokenId).call());return n.next=23,Promise.all(f);case 23:for(g=n.sent,k=0;k<a.length;k++)c[k]||(c[k]={}),c[k].tokenId=a[k].tokenId,c[k].tokenHash=g[k],c[k].isAIR=a[k].isAIR;l(c[e].isAIR),i(c[e]);case 27:case"end":return n.stop()}}),n)}))),[t,b,d,j,e]);return Object(D.useEffect)((function(){x()}),[x]),Object(re.jsxs)(G.a,{children:[Object(re.jsx)(Pe,{children:Object(re.jsx)(J.q,{as:"h1",size:"lg",color:"text",mb:"20px",children:"My NFT Detail"})}),Object(re.jsx)(Ue,{collectionName:o?"Air NFT":"HappyCows"}),Object(re.jsx)(We,{children:Object(re.jsx)(Fe,{myToken:r})})]})}}}]);
//# sourceMappingURL=25.ad32c907.chunk.js.map